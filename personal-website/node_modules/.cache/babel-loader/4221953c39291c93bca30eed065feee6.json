{"ast":null,"code":"import Activity from \"./OldComponents/Activity\";\nconst BACKEND_ROOT_URL = \"https://efeevci-person-site-backend.herokuapp.com\";\n\nasync function getDays() {\n  var date = new Date();\n  var month = date.getMonth() + 1;\n  let activities;\n  fetch(BACKEND_ROOT_URL + \"/days/\" + month).then(res => res.json()).then(result => {\n    result.forEach(day => {\n      activities += getActivity(day.day_id, day.date);\n    });\n  }, error => {\n    console.log(\"Error in getting days: \", error);\n  }).then(() => {\n    return activities;\n  });\n}\n\nasync function getActivity(day_id, date) {\n  let activities = [];\n  fetch(BACKEND_ROOT_URL + \"/activities/\" + day_id).then(res => res.json()).then(result => {\n    result.forEach(element => {\n      let activity = new Activity();\n      activity.date = date;\n      activity.day_id = day_id;\n      activity.activity_id = element.activity_id;\n      activity.title = element.title;\n      activity.description = element.description; //getTag(activity);\n\n      activities.push(activity);\n    });\n  }, error => {\n    console.log(\"Error in getting activity: \", error);\n  }).then(() => {\n    return activities;\n  });\n}\n\nasync function getTag(activity) {\n  fetch(BACKEND_ROOT_URL + \"/tags/\" + activity.activity_id).then(res => res.json()).then(result => {\n    result.forEach(tag => {\n      activity.tags.push(tag.name);\n    });\n  }, error => {\n    console.log(\"Error in getting tags: \", error);\n  }).then(() => {\n    return;\n  });\n}\n\nasync function createEvents(activities) {\n  let id = 0;\n  let events = [];\n\n  for (let activity of activities) {\n    console.log(activity);\n    var title = activity.title;\n    var start_date = activity.date;\n    events.push({\n      id: {\n        id\n      },\n      color: '#fd3153',\n      from: {\n        start_date\n      },\n      to: '2020-08-27T18:00:00+00:00',\n      title: {\n        title\n      }\n    });\n  }\n\n  return events;\n}\n\nexport { getDays, createEvents };","map":{"version":3,"sources":["/Users/efeevci/Desktop/efeevci.com/personal_website_frontend/personal-website/src/DBCalendarEventsFetch.js"],"names":["Activity","BACKEND_ROOT_URL","getDays","date","Date","month","getMonth","activities","fetch","then","res","json","result","forEach","day","getActivity","day_id","error","console","log","element","activity","activity_id","title","description","push","getTag","tag","tags","name","createEvents","id","events","start_date","color","from","to"],"mappings":"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","sourcesContent":["import Activity from \"./OldComponents/Activity\";\nconst BACKEND_ROOT_URL = \"https://efeevci-person-site-backend.herokuapp.com\";\n\nasync function getDays(){\n    var date = new Date();\n    var month = date.getMonth() + 1;\n    let activities;\n    fetch(BACKEND_ROOT_URL + \"/days/\" + month).then(res => res.json())\n      .then(\n          (result) => {\n              result.forEach(day => {\n                  activities += getActivity(day.day_id, day.date);\n              })\n\n          },\n          (error) => {\n              console.log(\"Error in getting days: \", error)\n          }\n    ).then(() => {return activities;});\n\n}\nasync function getActivity(day_id, date) {\n    let activities = [];\n    fetch(BACKEND_ROOT_URL + \"/activities/\" + day_id).then(res => res.json())\n      .then(\n          (result) => {\n              result.forEach(element => {\n                  let activity = new Activity();\n                  activity.date = date;\n                  activity.day_id = day_id;\n                  activity.activity_id = element.activity_id;\n                  activity.title = element.title;\n                  activity.description = element.description;\n                  //getTag(activity);\n                  activities.push(activity);\n              });\n          },\n          (error) => {\n              console.log(\"Error in getting activity: \", error)\n          }\n      ).then(() => {return activities});\n}\n\nasync function getTag(activity) {\n  fetch(BACKEND_ROOT_URL + \"/tags/\" + activity.activity_id).then(res => res.json())\n      .then(\n          (result) => {\n              result.forEach(tag => {\n                  activity.tags.push(tag.name);\n              });\n          },\n          (error) => {\n              console.log(\"Error in getting tags: \", error)\n          }\n      ).then(() => {return});\n}\n\nasync function createEvents(activities){\n  let id = 0;\n  let events = [];\n  for(let activity of activities){\n    console.log(activity);\n    var title = activity.title;\n    var start_date = activity.date;\n    events.push({\n      id : {id},\n      color : '#fd3153',\n      from : {start_date},\n      to: '2020-08-27T18:00:00+00:00',\n      title:{title}\n    });\n  }\n  return events;\n}\nexport{getDays,createEvents};"]},"metadata":{},"sourceType":"module"}