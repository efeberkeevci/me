{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/efeevci/Desktop/efeevci.com/personal_website_frontend/personal-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _regeneratorRuntime from\"/Users/efeevci/Desktop/efeevci.com/personal_website_frontend/personal-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/efeevci/Desktop/efeevci.com/personal_website_frontend/personal-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import Activity from\"./OldComponents/Activity\";var BACKEND_ROOT_URL=\"https://efeevci-person-site-backend.herokuapp.com\";function getDays(){return _getDays.apply(this,arguments);}function _getDays(){_getDays=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var date,month,activities;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:date=new Date();month=date.getMonth()+1;activities=[];fetch(BACKEND_ROOT_URL+\"/days/\"+month).then(function(res){return res.json();}).then(function(result){result.forEach(function(day){activities+=getActivity(day.day_id,day.date);});},function(error){console.log(\"Error in getting days: \",error);}).then(function(){return activities;});case 4:case\"end\":return _context.stop();}}},_callee);}));return _getDays.apply(this,arguments);}function getActivity(_x,_x2){return _getActivity.apply(this,arguments);}function _getActivity(){_getActivity=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(day_id,date){var activities;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:activities=[];fetch(BACKEND_ROOT_URL+\"/activities/\"+day_id).then(function(res){return res.json();}).then(function(result){result.forEach(function(element){var activity=new Activity();activity.date=date;activity.day_id=day_id;activity.activity_id=element.activity_id;activity.title=element.title;activity.description=element.description;//getTag(activity);\nactivities.push(activity);});},function(error){console.log(\"Error in getting activity: \",error);}).then(function(){return activities;});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return _getActivity.apply(this,arguments);}function getTag(_x3){return _getTag.apply(this,arguments);}function _getTag(){_getTag=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(activity){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:fetch(BACKEND_ROOT_URL+\"/tags/\"+activity.activity_id).then(function(res){return res.json();}).then(function(result){result.forEach(function(tag){activity.tags.push(tag.name);});},function(error){console.log(\"Error in getting tags: \",error);}).then(function(){return;});case 1:case\"end\":return _context3.stop();}}},_callee3);}));return _getTag.apply(this,arguments);}function createEvents(_x4){return _createEvents.apply(this,arguments);}function _createEvents(){_createEvents=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(activities){var id,events,_iterator,_step,activity,title,start_date;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:id=0;events=[];_iterator=_createForOfIteratorHelper(activities);try{for(_iterator.s();!(_step=_iterator.n()).done;){activity=_step.value;console.log(activity);title=activity.title;start_date=activity.date;events.push({id:{id:id},color:'#fd3153',from:{start_date:start_date},to:'2020-08-27T18:00:00+00:00',title:{title:title}});}}catch(err){_iterator.e(err);}finally{_iterator.f();}return _context4.abrupt(\"return\",events);case 5:case\"end\":return _context4.stop();}}},_callee4);}));return _createEvents.apply(this,arguments);}export{getDays,createEvents};","map":{"version":3,"sources":["/Users/efeevci/Desktop/efeevci.com/personal_website_frontend/personal-website/src/DBCalendarEventsFetch.js"],"names":["Activity","BACKEND_ROOT_URL","getDays","date","Date","month","getMonth","activities","fetch","then","res","json","result","forEach","day","getActivity","day_id","error","console","log","element","activity","activity_id","title","description","push","getTag","tag","tags","name","createEvents","id","events","start_date","color","from","to"],"mappings":"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","sourcesContent":["import Activity from \"./OldComponents/Activity\";\nconst BACKEND_ROOT_URL = \"https://efeevci-person-site-backend.herokuapp.com\";\n\nasync function getDays(){\n    var date = new Date();\n    var month = date.getMonth() + 1;\n    let activities = [];\n    fetch(BACKEND_ROOT_URL + \"/days/\" + month).then(res => res.json())\n      .then(\n          (result) => {\n              result.forEach(day => {\n                  activities += getActivity(day.day_id, day.date);\n              })\n\n          },\n          (error) => {\n              console.log(\"Error in getting days: \", error)\n          }\n    ).then(() => {return activities;});\n\n}\nasync function getActivity(day_id, date) {\n    let activities = [];\n    fetch(BACKEND_ROOT_URL + \"/activities/\" + day_id).then(res => res.json())\n      .then(\n          (result) => {\n              result.forEach(element => {\n                  let activity = new Activity();\n                  activity.date = date;\n                  activity.day_id = day_id;\n                  activity.activity_id = element.activity_id;\n                  activity.title = element.title;\n                  activity.description = element.description;\n                  //getTag(activity);\n                  activities.push(activity);\n              });\n          },\n          (error) => {\n              console.log(\"Error in getting activity: \", error)\n          }\n      ).then(() => {return activities});\n}\n\nasync function getTag(activity) {\n  fetch(BACKEND_ROOT_URL + \"/tags/\" + activity.activity_id).then(res => res.json())\n      .then(\n          (result) => {\n              result.forEach(tag => {\n                  activity.tags.push(tag.name);\n              });\n          },\n          (error) => {\n              console.log(\"Error in getting tags: \", error)\n          }\n      ).then(() => {return});\n}\n\nasync function createEvents(activities){\n  let id = 0;\n  let events = [];\n  for(let activity of activities){\n    console.log(activity);\n    var title = activity.title;\n    var start_date = activity.date;\n    events.push({\n      id : {id},\n      color : '#fd3153',\n      from : {start_date},\n      to: '2020-08-27T18:00:00+00:00',\n      title:{title}\n    });\n  }\n  return events;\n}\nexport{getDays,createEvents};"]},"metadata":{},"sourceType":"module"}